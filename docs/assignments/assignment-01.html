<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-07-10">

<title>Assignment 00 – Understanding Uncertainty</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-a14e3238c51140e99ccc48519b6ed9ce.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Understanding Uncertainty</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../assignments.html"> 
<span class="menu-text">Assignments</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jrudoler-teaching/understanding-uncertainty"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/jrudoler"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Assignment 00</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/lecture-00.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 00: Why Statistics?</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/lecture-01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 01: Programming Basics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/lecture-02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 02: Probability and Random Variables</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/lecture-03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 03: Sampling and Simulation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/lecture-04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 04: Data Generating Processes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/lecture-05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 05: Hypothesis Testing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/lecture-06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 06: Bootstrapping</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/lecture-07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 07: Permutation Tests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/lecture-08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 08: Regression Basics</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-code-links"><h2>Code Links</h2><ul><li><a href="https://colab.research.google.com/github/jrudoler-teaching/understanding-uncertainty/blob/main/assignments/assignment-01.ipynb"><i class="bi bi-laptop"></i>Open in Colab</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Assignment 00</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 10, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><strong>AI Notice</strong>: I expect that this entire assignment can be readily solved by today’s AI systems. I would encourage you to attempt the assignment yourself first, but if you find yourself stuck, you can use AI tools to help you. I have to emphasize that if you do so, it is crucial that you take the time to understand the AI’s solution and not just copy it. The goal is to learn and practice the concepts, not just to complete the assignment. If you don’t need AI to solve the assignment – great! It can still help – ask it to <em>review</em> your solution, critique it, or suggest improvements. This will help you learn even more about how to write good code.</p>
<section id="problem-1-robust-addition" class="level2">
<h2 class="anchored" data-anchor-id="problem-1-robust-addition">Problem 1: Robust addition</h2>
<p>Write a function that takes in a list of numbers and returns their sum. However, if the list contains any non-numeric values, the function should ignore those values and only sum the numeric ones. The exception is if the non-numeric values can be converted to numeric types (like strings representing numbers), in which case they should be converted and included in the sum. If the list is empty or contains no numeric values, the function should return 0.</p>
<div id="b6d462ef" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> robust_addition(numbers : <span class="bu">list</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># </span><span class="al">TODO</span><span class="co">: Implement the function to sum only numeric values in the list.</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="problem-2" class="level2">
<h2 class="anchored" data-anchor-id="problem-2">Problem 2:</h2>
<p>You have a 1D NumPy array of student scores (0–100).</p>
<ol type="1">
<li>Write a function pass_rate(scores, threshold) that returns the fraction of scores ≥ threshold.</li>
<li>Write a function top_percentile(scores, p) that returns the score value at the p-th percentile (e.g.&nbsp;p=0.9 ⇒ 90th percentile).</li>
</ol>
<p>Constraints:</p>
<ul>
<li>Use no Python loops or list-comprehensions.</li>
<li>Leverage NumPy’s casting behavior (boolean <span class="math inline">\(\to\)</span> integer).</li>
</ul>
<div id="309352a5" class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Union</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>Array1D <span class="op">=</span> Union[np.ndarray, <span class="bu">list</span>[<span class="bu">float</span>]]</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> pass_rate(scores: Array1D, threshold: <span class="bu">float</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">    Return the proportion of entries in `scores` &gt;= threshold.</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    arr <span class="op">=</span> np.asarray(scores)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># </span><span class="al">TODO</span><span class="co">: compute proportion without loops</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> top_percentile(scores: Array1D, p: <span class="bu">float</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co">    Return the p-th percentile of `scores`, where 0 &lt; p &lt; 1.</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    arr <span class="op">=</span> np.asarray(scores)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># </span><span class="al">TODO</span><span class="co">: use a single np function</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="problem-3-palindrome-checker" class="level2">
<h2 class="anchored" data-anchor-id="problem-3-palindrome-checker">Problem 3: Palindrome Checker</h2>
<p>Write a function that checks whether a given string is a palindrome (a word, phrase, number, or other sequence of characters that reads the same forward and backward, ignoring spaces, punctuation, and capitalization). The function should return <code>True</code> if the string is a palindrome and <code>False</code> otherwise.</p>
<div id="0f7a6250" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> is_palindrome(s: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">bool</span>:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># </span><span class="al">TODO</span><span class="co">: Implement the function to check if the string is a palindrome.</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ignore spaces, punctuation, and capitalization.</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="problem-4-multiple-data-tables-and-pandas-operations" class="level2">
<h2 class="anchored" data-anchor-id="problem-4-multiple-data-tables-and-pandas-operations">Problem 4: Multiple data tables and Pandas operations</h2>
<p>We did <em>not</em> cover how to do all this in class, but here are some exercises to practice merging and querying data with Pandas. Please refer to the Pandas documentation, the links below, and feel free to ask AI assistants to point you to the right functions and methods.</p>
<p>Some related reading: - <a href="https://medium.com/@ethan.duong1120/8-critical-concepts-in-relational-database-80c74aa15e9c">Blog post on relational databases</a> - <a href="https://www.geeksforgeeks.org/sql/sql-join-set-1-inner-left-right-and-full-joins/">Joins in SQL / relational databases</a> - <a href="https://pandas.pydata.org/docs/user_guide/merging.html">Joins in Pandas</a></p>
<p>Below we define the data for a set of tables related to car registrations and traffic violations. You should be able to use the Pandas library to perform various queries on this data. Try the following exercises:</p>
<ol type="1">
<li><p><strong>Show all violations for “Alice Smith” (D001).</strong><br>
<em>Hint:</em> Join <code>drivers</code> → <code>registrations</code> → <code>violations</code> and filter where <code>dl_number == "D001"</code>.</p></li>
<li><p><strong>Find violations on cars older than 2018.</strong><br>
<em>Hint:</em> Join <code>cars</code> → <code>violations</code> and filter where <code>year &lt; 2018</code>.</p></li>
<li><p><strong>Which plates have zero recorded violations?</strong><br>
<em>Hint:</em> Anti-join <code>registrations</code> (or <code>cars</code>) against <code>violations</code>.</p></li>
<li><p><strong>Count total violations per driver</strong> (include drivers with none).<br>
<em>Hint:</em> Merge all tables, then <code>.groupby("dl_number")</code> + <code>.size()</code> (or <code>.count()</code>).</p></li>
<li><p><strong>Compute average fine per driver</strong>, sorted descending.<br>
<em>Hint:</em> Group by <code>dl_number</code> and use <code>.mean()</code> on the <code>fine</code> column.</p></li>
<li><p><strong>For each car make (e.g.&nbsp;Ford, Toyota), what is the total number of violations?</strong><br>
<em>Hint:</em> Join <code>cars</code> → <code>violations</code> → group by <code>make</code> and use <code>.size()</code>.</p></li>
<li><p><strong>What’s the average fine by vehicle year?</strong><br>
<em>Hint:</em> Merge <code>cars</code> → <code>violations</code>, group by <code>year</code>, and use <code>.mean()</code> on <code>fine</code>.</p></li>
</ol>
<div id="7e6e3076" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pandas <span class="im">import</span> DataFrame</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># — Driver info — (10 drivers)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>drivers <span class="op">=</span> pd.DataFrame([</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D001"</span>, <span class="st">"name"</span>: <span class="st">"Alice Smith"</span>,   <span class="st">"age"</span>: <span class="dv">34</span>},</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D002"</span>, <span class="st">"name"</span>: <span class="st">"Bob Jones"</span>,     <span class="st">"age"</span>: <span class="dv">28</span>},</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D003"</span>, <span class="st">"name"</span>: <span class="st">"Carol Diaz"</span>,    <span class="st">"age"</span>: <span class="dv">45</span>},</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D004"</span>, <span class="st">"name"</span>: <span class="st">"David Lee"</span>,     <span class="st">"age"</span>: <span class="dv">52</span>},</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D005"</span>, <span class="st">"name"</span>: <span class="st">"Eva Chen"</span>,      <span class="st">"age"</span>: <span class="dv">23</span>},</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D006"</span>, <span class="st">"name"</span>: <span class="st">"Frank Moore"</span>,   <span class="st">"age"</span>: <span class="dv">36</span>},</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D007"</span>, <span class="st">"name"</span>: <span class="st">"Grace Patel"</span>,   <span class="st">"age"</span>: <span class="dv">41</span>},</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D008"</span>, <span class="st">"name"</span>: <span class="st">"Henry Zhao"</span>,    <span class="st">"age"</span>: <span class="dv">29</span>},</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D009"</span>, <span class="st">"name"</span>: <span class="st">"Ivy Nguyen"</span>,    <span class="st">"age"</span>: <span class="dv">50</span>},</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D010"</span>, <span class="st">"name"</span>: <span class="st">"Jack O'Connor"</span>, <span class="st">"age"</span>: <span class="dv">31</span>},</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># — Car registrations (DL → plate) — (15 registrations)</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>registrations <span class="op">=</span> pd.DataFrame([</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D001"</span>, <span class="st">"plate"</span>: <span class="st">"ABC-123"</span>},</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D001"</span>, <span class="st">"plate"</span>: <span class="st">"XYZ-999"</span>},</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D002"</span>, <span class="st">"plate"</span>: <span class="st">"JKL-456"</span>},</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D003"</span>, <span class="st">"plate"</span>: <span class="st">"MNO-321"</span>},</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D004"</span>, <span class="st">"plate"</span>: <span class="st">"PQR-654"</span>},</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D005"</span>, <span class="st">"plate"</span>: <span class="st">"STU-111"</span>},</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D005"</span>, <span class="st">"plate"</span>: <span class="st">"VWX-222"</span>},</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D006"</span>, <span class="st">"plate"</span>: <span class="st">"YZA-333"</span>},</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D007"</span>, <span class="st">"plate"</span>: <span class="st">"BCD-444"</span>},</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D007"</span>, <span class="st">"plate"</span>: <span class="st">"EFG-555"</span>},</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D008"</span>, <span class="st">"plate"</span>: <span class="st">"HIJ-666"</span>},</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D009"</span>, <span class="st">"plate"</span>: <span class="st">"KLM-777"</span>},</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D009"</span>, <span class="st">"plate"</span>: <span class="st">"NOP-888"</span>},</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"dl_number"</span>: <span class="st">"D010"</span>, <span class="st">"plate"</span>: <span class="st">"QRS-999"</span>},</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="co"># — Car info (plate → make/model/year) — (14 cars)</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>cars <span class="op">=</span> pd.DataFrame([</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"ABC-123"</span>, <span class="st">"make"</span>: <span class="st">"Toyota"</span>,  <span class="st">"model"</span>: <span class="st">"Camry"</span>,   <span class="st">"year"</span>: <span class="dv">2018</span>},</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"XYZ-999"</span>, <span class="st">"make"</span>: <span class="st">"Honda"</span>,   <span class="st">"model"</span>: <span class="st">"Civic"</span>,   <span class="st">"year"</span>: <span class="dv">2020</span>},</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"JKL-456"</span>, <span class="st">"make"</span>: <span class="st">"Ford"</span>,    <span class="st">"model"</span>: <span class="st">"Escape"</span>,  <span class="st">"year"</span>: <span class="dv">2019</span>},</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"MNO-321"</span>, <span class="st">"make"</span>: <span class="st">"Tesla"</span>,   <span class="st">"model"</span>: <span class="st">"Model 3"</span>, <span class="st">"year"</span>: <span class="dv">2021</span>},</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"PQR-654"</span>, <span class="st">"make"</span>: <span class="st">"Nissan"</span>,  <span class="st">"model"</span>: <span class="st">"Altima"</span>,  <span class="st">"year"</span>: <span class="dv">2017</span>},</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"STU-111"</span>, <span class="st">"make"</span>: <span class="st">"Chevy"</span>,   <span class="st">"model"</span>: <span class="st">"Malibu"</span>,  <span class="st">"year"</span>: <span class="dv">2016</span>},</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"VWX-222"</span>, <span class="st">"make"</span>: <span class="st">"Kia"</span>,     <span class="st">"model"</span>: <span class="st">"Soul"</span>,    <span class="st">"year"</span>: <span class="dv">2022</span>},</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"YZA-333"</span>, <span class="st">"make"</span>: <span class="st">"BMW"</span>,     <span class="st">"model"</span>: <span class="st">"X3"</span>,      <span class="st">"year"</span>: <span class="dv">2015</span>},</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"BCD-444"</span>, <span class="st">"make"</span>: <span class="st">"Audi"</span>,    <span class="st">"model"</span>: <span class="st">"A4"</span>,      <span class="st">"year"</span>: <span class="dv">2019</span>},</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"EFG-555"</span>, <span class="st">"make"</span>: <span class="st">"Hyundai"</span>, <span class="st">"model"</span>: <span class="st">"Elantra"</span>, <span class="st">"year"</span>: <span class="dv">2020</span>},</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"HIJ-666"</span>, <span class="st">"make"</span>: <span class="st">"Subaru"</span>,  <span class="st">"model"</span>: <span class="st">"Outback"</span>, <span class="st">"year"</span>: <span class="dv">2018</span>},</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"KLM-777"</span>, <span class="st">"make"</span>: <span class="st">"Ford"</span>,    <span class="st">"model"</span>: <span class="st">"Focus"</span>,   <span class="st">"year"</span>: <span class="dv">2017</span>},</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"NOP-888"</span>, <span class="st">"make"</span>: <span class="st">"Mazda"</span>,   <span class="st">"model"</span>: <span class="st">"CX-5"</span>,    <span class="st">"year"</span>: <span class="dv">2021</span>},</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"QRS-999"</span>, <span class="st">"make"</span>: <span class="st">"Chevy"</span>,   <span class="st">"model"</span>: <span class="st">"Impala"</span>,  <span class="st">"year"</span>: <span class="dv">2014</span>},</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a><span class="co"># — Traffic violations (plate → violation) — (20 entries)</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>violations <span class="op">=</span> pd.DataFrame([</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"ABC-123"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-01"</span>, <span class="st">"type"</span>: <span class="st">"speeding"</span>,   <span class="st">"fine"</span>: <span class="dv">150</span>},</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"ABC-123"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-07"</span>, <span class="st">"type"</span>: <span class="st">"red_light"</span>,  <span class="st">"fine"</span>: <span class="dv">200</span>},</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"XYZ-999"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-11"</span>, <span class="st">"type"</span>: <span class="st">"seatbelt"</span>,  <span class="st">"fine"</span>:  <span class="dv">75</span>},</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"JKL-456"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-05"</span>, <span class="st">"type"</span>: <span class="st">"parking"</span>,    <span class="st">"fine"</span>:  <span class="dv">40</span>},</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"MNO-321"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-09"</span>, <span class="st">"type"</span>: <span class="st">"speeding"</span>,   <span class="st">"fine"</span>: <span class="dv">120</span>},</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"PQR-654"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-10"</span>, <span class="st">"type"</span>: <span class="st">"dui"</span>,         <span class="st">"fine"</span>: <span class="dv">500</span>},</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"STU-111"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-12"</span>, <span class="st">"type"</span>: <span class="st">"speeding"</span>,   <span class="st">"fine"</span>: <span class="dv">130</span>},</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"VWX-222"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-14"</span>, <span class="st">"type"</span>: <span class="st">"parking"</span>,    <span class="st">"fine"</span>:  <span class="dv">55</span>},</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"YZA-333"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-15"</span>, <span class="st">"type"</span>: <span class="st">"red_light"</span>,  <span class="st">"fine"</span>: <span class="dv">250</span>},</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"BCD-444"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-16"</span>, <span class="st">"type"</span>: <span class="st">"speeding"</span>,   <span class="st">"fine"</span>: <span class="dv">160</span>},</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"EFG-555"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-17"</span>, <span class="st">"type"</span>: <span class="st">"parking"</span>,    <span class="st">"fine"</span>:  <span class="dv">35</span>},</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"HIJ-666"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-18"</span>, <span class="st">"type"</span>: <span class="st">"seatbelt"</span>,  <span class="st">"fine"</span>:  <span class="dv">80</span>},</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"KLM-777"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-19"</span>, <span class="st">"type"</span>: <span class="st">"speeding"</span>,   <span class="st">"fine"</span>: <span class="dv">140</span>},</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"NOP-888"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-20"</span>, <span class="st">"type"</span>: <span class="st">"dui"</span>,         <span class="st">"fine"</span>: <span class="dv">600</span>},</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"QRS-999"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-21"</span>, <span class="st">"type"</span>: <span class="st">"parking"</span>,    <span class="st">"fine"</span>:  <span class="dv">45</span>},</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"ABC-123"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-22"</span>, <span class="st">"type"</span>: <span class="st">"speeding"</span>,   <span class="st">"fine"</span>: <span class="dv">155</span>},</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"ZZZ-000"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-12"</span>, <span class="st">"type"</span>: <span class="st">"speeding"</span>,   <span class="st">"fine"</span>: <span class="dv">130</span>}, </span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"UNKNOWN"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-23"</span>, <span class="st">"type"</span>: <span class="st">"red_light"</span>,  <span class="st">"fine"</span>: <span class="dv">220</span>}, </span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"NOP-888"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-24"</span>, <span class="st">"type"</span>: <span class="st">"seatbelt"</span>,  <span class="st">"fine"</span>:  <span class="dv">85</span>},</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"plate"</span>: <span class="st">"STU-111"</span>, <span class="st">"date"</span>: <span class="st">"2025-06-25"</span>, <span class="st">"type"</span>: <span class="st">"parking"</span>,    <span class="st">"fine"</span>:  <span class="dv">50</span>},</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="problem-5-list-comprehension-and-lambda-functions" class="level2">
<h2 class="anchored" data-anchor-id="problem-5-list-comprehension-and-lambda-functions">Problem 5: List Comprehension and Lambda Functions</h2>
<p>Read about two advanced Python features we did not cover in class: - <a href="https://www.w3schools.com/python/python_lists_comprehension.asp">List comprehensions</a> - <a href="https://www.w3schools.com/python/python_lambda.asp">Lambda functions</a></p>
<p>They are very useful for writing concise code, since they allow you to create lists and functions in a single line.</p>
<ol type="1">
<li><p>Write a list comprehension that builds a staircase pattern of the word “Staircases” with 10 steps, letter by letter.</p>
<ul>
<li>Example output:</li>
</ul>
<pre><code>['S',
 'St',
 'Sta',
 'Stai',
 'Stair',
 'Stairc',
 'Stairca',
 'Staircas',
 'Staircase',
 'Staircases']</code></pre></li>
<li><p>Write a lambda function that takes a list of numbers and returns a new list containing only the numbers from the original list that are divisible by 3.</p></li>
<li><p>Write a lambda function that takes a string and returns the string reversed. (e.g.&nbsp;“shalom” becomes “molahs”). Then, apply this function to the column of names in the <code>drivers</code> table to create a new column called <code>reversed_name</code>. (You can use the <code>apply</code> method on a Pandas DataFrame to apply a function to each element in a column.)</p></li>
</ol>
</section>
<section id="problem-6-object-oriented-programming-oop-with-inheritance" class="level2">
<h2 class="anchored" data-anchor-id="problem-6-object-oriented-programming-oop-with-inheritance">Problem 6: Object-Oriented Programming (OOP) with Inheritance</h2>
<p><strong>Objective</strong><br>
Practice defining base classes, subclasses, method overriding, etc.</p>
<p>Build a mini sports‐league system. You’ll model <strong>TeamMember</strong>, <strong>Player</strong>, <strong>Coach</strong>, and <strong>Team</strong>, then extend with sport‐specific players.</p>
<p>Complete the class definitions below:</p>
<div id="69cb9c6a" class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TeamMember:</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name: <span class="bu">str</span>, age: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.age <span class="op">=</span> age</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> role(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Return the member’s role name."""</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Player(TeamMember):</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name: <span class="bu">str</span>, age: <span class="bu">int</span>, position: <span class="bu">str</span>, number: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">super</span>().<span class="fu">__init__</span>(name, age)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.position <span class="op">=</span> position</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.number <span class="op">=</span> number</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> role(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> play(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Return a generic “is playing” message."""</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Coach(TeamMember):</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name: <span class="bu">str</span>, age: <span class="bu">int</span>, experience_years: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>        <span class="bu">super</span>().<span class="fu">__init__</span>(name, age)</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.experience_years <span class="op">=</span> experience_years</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> role(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> train(<span class="va">self</span>, player: Player) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Return a training message."""</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Team:</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.members: List[TeamMember] <span class="op">=</span> []</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add_member(<span class="va">self</span>, member: TeamMember) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> lineup(<span class="va">self</span>) <span class="op">-&gt;</span> List[<span class="bu">str</span>]:</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""List ‘Name – Role’ for each member."""</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> game_day(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a><span class="co">        For each Player, call play();</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a><span class="co">        for each Coach, call train() on every Player.</span></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a><span class="co">        Print each message.</span></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>        ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Once the methods are all defined, you can create instances of these classes and test the functionality.</p>
<p>Instantiate two teams, “HaPoel” and “Maccabi”. Try adding players and coaches to each team, and then print out the team lineups with <code>.lineup()</code> and simulate a gameday preparation with <code>.game_day()</code>.</p>
<p>Next: Define two subclasses of <code>Player</code>: <code>BasketballPlayer</code> and <code>FootballPlayer</code> (European football, not American). Each subclass should have a unique <code>play()</code> method that prints a sport-specific message. For example, <code>BasketballPlayer</code> might print “Nailing a three-pointer!” while <code>FootballPlayer</code> might print “Goooooooooal!”.</p>
</section>
<section id="problem-7-functional-vs.-object-oriented-programming-for-team-statistics" class="level2">
<h2 class="anchored" data-anchor-id="problem-7-functional-vs.-object-oriented-programming-for-team-statistics">Problem 7: Functional vs.&nbsp;Object-Oriented Programming for team statistics</h2>
<p>This exervise is designed to emphasize the differences between functional and object-oriented programming paradigms.</p>
<p>We’ll define a dataset with recorded game statistics for a team of players, and then implement two different approaches to compute the team’s statistical leaders: one using functional programming and the other using object-oriented programming.</p>
<div id="87db9cbb" class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.DataFrame({</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"game_id"</span>: [<span class="st">"001"</span>, <span class="st">"001"</span>, <span class="st">"002"</span>, <span class="st">"002"</span>, <span class="st">"002"</span>],</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"team"</span>: [<span class="st">"HaPoel"</span>, <span class="st">"Maccabi"</span>, <span class="st">"HaPoel"</span>, <span class="st">"Maccabi"</span>, <span class="st">"HaPoel"</span>],</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"player"</span>: [<span class="st">"Messi"</span>, <span class="st">"Ronaldo"</span>, <span class="st">"Messi"</span>, <span class="st">"Wagner"</span>, <span class="st">"Neymar"</span>],</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"goals"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>],</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"assists"</span>: [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>],</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"minutes_played"</span>: [<span class="dv">90</span>, <span class="dv">90</span>, <span class="dv">90</span>, <span class="dv">90</span>, <span class="dv">90</span>]</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># compute the scoring leader for a given team</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> compute_scoring_leader(data, team: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co"># compute the scoring leader for a given team using OOP</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TeamStats:</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, data: pd.DataFrame, team: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> scoring_leader(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>        ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>